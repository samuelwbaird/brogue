<html>
<head>
		<meta charset="UTF-8">
		<title>Slash - Open Logging</title>
		<link href="css/style.css" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<h1 id="title">App</h1>
<p>Devices that have recently logged data using this app ID will appear here.</p>
<div id="device_list"><p>loading...</p></div>

<template id="template_app">
	<div style="margin: 10px;"">
	<a href=""><span class="app_id" style="display: inline-block; min-width: 200px;">App ID</span></a>
	<span class="date" style="display: inline-block; min-width: 200px; text-align:right;"/>Date</span>
	</div>
</template>

<script type="module">
	// get the app id from the query params
	let searchParams = new URLSearchParams(window.location.search);
	let app_id = 'Unknown App ID';
	if (searchParams.has('app_id')) {
		app_id = searchParams.get('app_id');
	}
	document.getElementById('title').innerText = 'App: ' + app_id;
	
	import * as slash from './js/slash.js';
	slash.update_device_list('device_list', app_id);
</script>

</body>
</html>

