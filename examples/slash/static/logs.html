<html>
<head>
		<meta charset="UTF-8">
		<title>Slash - Open Logging</title>
		<link href="css/style.css" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="overflow: hidden;">
<h1 id="title">App</h1>
<!-- download logs-->
<p>Live logs:</p>
<div id="logs" style="overflow: scroll;"><p>loading...</p></div>

<template id="template_log">
	<div style="margin: 0px;"">
		<pre style="margin: 0px;" class="log">log</pre>
	</div>
</template>

<script type="module">
	// get the app id from the query params
	let searchParams = new URLSearchParams(window.location.search);
	const app_id = searchParams.get('app_id');
	const device_id = searchParams.get('device_id');
	document.getElementById('title').innerText = 'App: ' + app_id + ' Device: ' + device_id;
	
	import * as slash from './js/slash.js';
	slash.monitor_logs('logs', app_id, device_id);
</script>

</body>
</html>

